<html>
  <head>
    <!-- Load TensorFlow.js 


-->
   
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js">
      </script>

    <!-- Place your code in the script tag below. You can also use an external .js file -->
   
      <style>
          img{
              filter: grayscale(100%);
          }
          body{
              background-color: beige;
          }
          canvas{
              background-color: white;
          }
</style>
  </head>
    <body>
 <div id='robot'>
            <img src="table.png" id="target" />

   
        </div>
        <div>
            <canvas id="canvas" width="590px" height="410px">
            </canvas>
        </div>
    </body>
 <script>
        
      // Notice there is no 'import' statement. 'tf' is available on the index-page
      // because of the script tag above.

      // Define a model for linear regression.
        async function main(){
             console.log('start');
        const model = await tf.loadLayersModel('https://raw.githubusercontent.com/LiuJiang20/dsc_305_hand_scratch_recognition/master/eleven_class/model.json');
        console.log(model);
        console.log('done');
  
             //const model = await tf.loadLayersModel('');
            //var canvas = document.getElementById("canvas");
            //var context = canvas.getContext("2d");
           // var image = document.getElementById('target');

            //var hello=context.drawImage(image,28,28);

           // console.log(target)
            //const example = tf.browser.fromPixels(image);  // for example
            var example=tf.tensor([0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.16470589,0.26666668,0.26666668,0.26666668,0.26666668,0.23529412,0.043137256,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.34901962,1.0,1.0,1.0,1.0,1.0,1.0,0.9843137,0.78039217,0.54509807,0.3019608,0.06666667,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.44705883,1.0,0.21960784,0.2,0.2,0.2,0.25490198,0.49019608,0.7294118,0.9529412,1.0,0.99215686,0.8235294,0.5764706,0.4117647,0.32941177,0.2509804,0.1764706,0.101960786,0.023529412,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.4117647,1.0,0.13333334,0.0,0.03137255,0.0,0.0,0.0,0.0,0.015686275,0.21176471,0.4509804,0.69411767,0.9254902,1.0,1.0,1.0,1.0,1.0,1.0,0.9490196,0.87058824,0.7882353,0.69411767,0.24313726,0.0,0.0,0.0,0.21960784,0.99215686,1.0,0.96862745,0.99607843,0.9137255,0.5137255,0.17254902,0.0,0.0,0.0,0.0,0.0,0.0,0.07058824,0.14901961,0.22352941,0.29803923,0.39215687,0.80784315,0.7490196,0.6627451,0.69803923,0.8666667,0.99607843,0.21960784,0.0,0.0,0.0,0.22352941,0.40784314,0.5058824,0.9490196,0.89411765,0.9764706,1.0,0.9372549,0.67058825,0.5058824,0.4,0.45490196,0.46666667,0.46666667,0.5019608,0.53333336,0.53333336,0.7137255,1.0,1.0,1.0,1.0,0.9019608,1.0,0.4117647,0.0,0.0,0.0,0.0,0.0,0.0,0.69411767,0.79607844,0.07058824,0.6509804,1.0,0.84313726,0.9764706,1.0,1.0,1.0,1.0,1.0,0.9490196,0.99607843,0.9411765,0.9529412,0.9843137,0.72156864,0.85882354,0.9607843,0.9372549,0.24313726,0.0,0.0,0.0,0.0,0.0,0.0,0.53333336,0.95686275,0.003921569,0.11764706,1.0,0.4,0.015686275,0.06666667,0.043137256,0.0,0.0,0.0,0.14117648,1.0,0.36862746,0.27058825,1.0,0.22352941,0.0,0.003921569,0.011764706,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.37254903,1.0,0.11764706,0.13725491,1.0,0.34901962,0.0,0.0,0.0,0.0,0.0,0.0,0.14117648,1.0,0.32941177,0.2784314,1.0,0.19607843,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.20784314,1.0,0.28235295,0.2627451,1.0,0.22352941,0.0,0.0,0.0,0.0,0.0,0.0,0.18431373,1.0,0.28627452,0.31764707,1.0,0.15294118,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.047058824,0.99607843,0.44313726,0.37254903,1.0,0.10980392,0.0,0.0,0.0,0.0,0.0,0.0,0.22745098,1.0,0.24313726,0.35686275,1.0,0.11372549,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.8862745,0.6039216,0.39215687,1.0,0.08627451,0.0,0.0,0.0,0.0,0.0,0.0,0.25490198,1.0,0.21960784,0.4,1.0,0.07450981,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.7254902,0.7647059,0.39215687,1.0,0.08627451,0.0,0.0,0.0,0.0,0.0,0.0,0.20784314,1.0,0.26666668,0.4392157,1.0,0.03137255,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.5764706,0.91764706,0.39215687,1.0,0.08627451,0.0,0.0,0.0,0.0,0.0,0.0,0.15294118,1.0,0.32156864,0.47843137,0.99215686,0.003921569,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.7137255,0.98039216,1.0,1.0,0.07450981,0.0,0.0,0.0,0.0,0.0,0.0,0.08627451,1.0,0.43529412,0.5176471,0.9529412,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.2901961,0.5058824,0.46666667,0.3647059,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.7647059,0.8784314,0.65882355,0.9137255,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.22352941,0.972549,0.99607843,0.8627451,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.043137256,0.1882353,0.14117648,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0],[1,28,28,1])
            const prediction = model.predict(example).argMax([-1]);
            console.log(prediction.dataSync())
            
            const labelMap = new Map([
                [0, "flip flop"],
                [1, "foot"],
                [2, "hand"],
                [3, "hedgehog"],
                [4, "hourse"],
                [5, "line"],
                [6, "microphone"],
                [7, "skull"],
                [8, "steak"],
                [9, "table"],
                [10, "telephone"]
                            ]);
            console.log(labelMap.get(prediction.dataSync()[0]))
            
  }
             main()
            
            

        
        

        
        
     
    </script>
</html>
